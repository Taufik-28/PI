<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDN 1 Manonjaya - Buku Tamu</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="taufik_content-wrapper">
        <!-- Header dengan latar belakang dan teks utama -->
        <header>
            <div class="taufik_header-content">
                <!-- Logo Kabupaten Tasikmalaya di sisi kiri -->
                <img src="GAMBAR/logo-kab.png" alt="Logo Kabupaten Tasikmalaya" class="taufik_logo-kabupaten">
                
                <!-- Teks utama di tengah header -->
                <div class="taufik_teks-atas">
                    <p>PEMERINTAH KABUPATEN TASIKMALAYA</p>
                    <p>DINAS PENDIDIKAN DAN KEBUDAYAAN</p>
                    <h1>SDN 1 MANONJAYA</h1>
                    <p>Jl. RTA Prawira Adiningrat No. 139, Manonjaya, Kab. Tasikmalaya, Jawa Barat<br>
                       NPSN: 20210055 | Telp. (0265) 381340 | Email: sdnegerisatumanojaya@yahoo.co.id</p>
                </div>
                
                <!-- Logo SD di sisi kanan -->
                <img src="GAMBAR/logo-sd.png" alt="Logo SDN 1 Manonjaya" class="taufik_logo-sdn">
            </div>
        </header>

        <!-- Navigasi utama dengan tautan halaman -->
        <nav>
            <div class="taufik_menu-toggle" onclick="toggleMenu()">â˜°</div>
            <ul id="taufik_nav-links">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="profil.html">Profil Sekolah</a></li>
                <li><a href="informasi.html">Informasi</a></li>
                <li><a href="berita.html">Berita</a></li>
                <li><a href="galeri.html">Galeri</a></li>
                <li><a href="kontak.html">Kontak</a></li>
                <li><a href="buku-tamu.html" class="taufik_active">Buku Tamu</a></li>
            </ul>
        </nav>

        <!-- Teks berjalan dengan ID sesuai CSS -->
        <div id="taufik_teksjalan">
            <table width="100%">
                <tbody>
                    <tr>
                        <td style="width:55px;"><strong>TERKINI:</strong> </td>
                        <td>
                            <marquee onmouseout="this.start()" onmouseover="this.stop()" scrollamount="4"
                                scrolldelay="40">Selamat datang di website SDN 1 Manonjaya. Kami menyediakan
                                informasi tentang profil sekolah, informasi, berita, serta
                                galeri sekolah. Semoga informasi yang kami sajikan bermanfaat bagi seluruh
                                pengunjung. Terima kasih atas kunjungannya.
                            </marquee>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <main>
            <!-- Bagian buku tamu utama -->
            <section id="buku-tamu" class="taufik_section">
                <h2>Buku Tamu</h2>
                <!-- Form untuk mengirim pesan tamu -->
                <form id="taufik_form-buku-tamu">
                    <label for="nama">Nama:</label>
                    <input type="text" id="nama" name="nama" required>

                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>

                    <label for="pesan">Pesan:</label>
                    <textarea id="pesan" name="pesan" rows="4" required></textarea>

                    <button type="submit">Kirim Pesan</button>
                </form>
            </section>
        </main>

        <!-- Footer dengan informasi hak cipta -->
        <footer>
            <p>&copy; 2024 SDN 1 Manonjaya. All rights reserved.</p><br>
            <p> Web by : <a href="https://www.instagram.com/taufikchy_/" target="_blank">taufikchy_</a><br></p>
        </footer>

        <!-- Script untuk rotasi background dan menandai tautan aktif -->
        <script>
             function toggleMenu() {
                document.getElementById("taufik_nav-links").classList.toggle("show");
            }

            const backgroundImages = [
                "GAMBAR/4.jpg", 
                "GAMBAR/2.jpg", 
                "GAMBAR/1.jpg", 
                "GAMBAR/lapang.webp"
            ];

            let currentBackgroundIndex = 0;
            const header = document.querySelector("header");

            // Fungsi untuk mengganti background image
            function changeBackgroundImage() {
                currentBackgroundIndex = (currentBackgroundIndex + 1) % backgroundImages.length;
                header.style.backgroundImage = `url(${backgroundImages[currentBackgroundIndex]})`;
            }

            // Mengatur interval waktu (misalnya, setiap 3 detik)
            setInterval(changeBackgroundImage, 3000);

            // Mendapatkan URL halaman saat ini
            const currentPage = window.location.pathname.split("/").pop();

            // Menandai tautan navigasi yang sesuai dengan halaman aktif
            document.querySelectorAll("nav ul li a").forEach(link => {
                if (link.getAttribute("href") === currentPage) {
                    link.classList.add("taufik_active");
                }
            });

            // Menyimpan pesan ke LocalStorage saat form dikirim
            document.getElementById("taufik_form-buku-tamu").addEventListener("submit", function (event) {
                event.preventDefault(); // Mencegah pengiriman form default

                const nama = document.getElementById("nama").value;  // Mengambil nilai nama
                const pesan = document.getElementById("pesan").value; // Mengambil nilai pesan
                const komentarList = JSON.parse(localStorage.getItem("komentarList")) || []; // Mengambil daftar komentar dari localStorage
                komentarList.push({ nama, pesan }); // Menambahkan pesan baru ke daftar
                localStorage.setItem("komentarList", JSON.stringify(komentarList)); // Menyimpan daftar yang diperbarui ke localStorage

                alert("Terima kasih atas pesan Anda!"); // Menampilkan notifikasi terima kasih
                this.reset(); // Mengosongkan form
            });
        </script>
    </div>
</body>

</html>
